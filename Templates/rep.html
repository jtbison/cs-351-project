<!-- This file extends base.html for the ease of creating future pages if ever needed. 
 I dont think that will be needed in this project, but still. -->

 {% extends "base.html"%}

 {% block head %}
 <title> New inheritance idea for making pages</title>
 {%endblock%}
 
 <!-- These lines use the jango API to allow more intelegent HTML implementations.
  Here specifically, they are used to extend base.html to make this file more simple,
  by hiding all of the unimportant, yet manditory HTML syntax.-->
 {% block body %}
 
<div class = "repContent">
    <div style="text-align: center; margin-top: 20px;">
      <h1>CS 351 Project</h1>
    </div>

    <style>
        .content{
            text-align: center;
            border-style: solid;
            max-width: 400px;
            margin: 10px auto;
            border-radius: 10px;
        }
 
        table{
            margin-left: 20px;
            margin-right: 20px;
            border-style: solid;
            border-spacing: 10px;
            border-radius: 10px;
            margin: 20px auto;
            border-collapse: collapse; /* ensures borders donâ€™t double up */
            width: 80%;
        }

        th, td {
          border: 1px solid #ccc;
          padding: 8px 12px;
          text-align: center;
        }

        .border-top td {
          border-top: 3px solid dimgray;
        }

 
        input{
             /* margin: 20px auto; */
             margin-top: 10px;
             margin-bottom: 10px;
         }
 
        .divider{
             border: none;
             height: 2px;
             background-color: black;
             width: 100%;
             margin: 10px 0 20px 0;
         }

         .form-row {
          display: flex;
          flex-wrap: nowrap;
          gap: 4px;
          margin-top: 20px;
        }
      
        .form-field {
          display: flex;
          flex-direction: column;
          flex: 1 1 auto;
          /* min-width: 120px; */
        }
      
        .form-field label {
          margin-bottom: 4px;
          font-weight: bold;
        }
        
        .button-link {
          display: inline-block;
          padding: 10px 20px;
          background-color: #007bff;
          color: white;
          text-decoration: none;
          border-radius: 5px;
          font-weight: bold;
          transition: background-color 0.2s ease;
        }
  
        .button-link:hover {
          background-color: #0056b3;
        }
     </style>

    <hr class="divider">
     
     <!-- When there are no tasks present in the database -->
     {% if tasks | length < 1%}
     <h3>Sadly, you have not put anything in the table.</h3>
     <!-- When there are tasks in the database -->
     {% else %}
     <table>
        <colgroup>
          <col style="width: 10%;">
          <col style="width: 10%;">
          <col style="width: 10%;">
          <col style="width: 15%;">
          <col style="width: 10%;">
          <col style="width: 5%;">
          <col style="width: 10%;">
          <col style="width: 10%;">
          <col style="width: 10%;">
          <col style="width: 10%;">
        </colgroup>
        <tr>
            <!-- The following are header columns-->
            <th>Rep Num</th>
            <th>Last Name</th>
            <th>First Name</th>
            <th>Street</th>
            <th>City</th>
            <th>State</th>
            <th>PostalCode</th>
            <th>Commission</th>
            <th>Rate</th>
            <th>Actions</th>
        </tr>
         <!-- Loop through all the values in MyTask table-->
         {% for task in tasks%}
         <!-- Populate each row of the table -->
        <tr>
             <!-- Display the task content-->
            <td>{{task.repNum}}</td>
            <td>{{task.lastName}}</td>
            <td>{{task.firstName}}</td>
            <td>{{task.street}}</td>
            <td>{{task.city}}</td>
            <td>{{task.state}}</td>
            <td>{{task.postalCode}}</td>
            <td>${{task.commission}}</td>
            <td>{{task.rate}}</td>
    
            <!-- Button that routes to the delete for a specific ID -->
            <td><a href="/deleteRep/{{task.repNum}}"> Delete </a></td>
        </tr>
        {% endfor %}
        <tr class="border-top">
          <td>Rep Num</td>
          <td>Last Name</td>
          <td>First Name</td>
          <td>Street</td>
          <td>City</td>
          <td>State</td>
          <td>PostalCode</td>
          <td>Commission</td>
          <td>Rate</td>
          <td>Actions</td>
        </tr>
        <tr>
          <form action="#" method="post">
            <td><input type="text" name="repNum" id="repNum" required style="width: 90%"></td>
            <td><input type="text" name="l_Name" id="l_Name" required style="width: 90%"></td>
            <td><input type="text" name="f_Name" id="f_Name" required style="width: 90%"></td>
            <td><input type="text" name="street" id="street" required style="width: 90%"></td>
            <td><input type="text" name="city" id="city" required style="width: 90%"></td>
            <td><input type="text" name="state" id="state" required style="width: 90%"></td>
            <td><input type="text" name="postalCode" id="postalCode" required style="width: 90%"></td>
            <td><input type="text" name="commission" id="commission" required style="width: 90%"></td>
            <td><input type="text" name="rate" id="rate" required style="width: 90%"></td>
            <td><input type="submit" value="Add Rep" id="btn_add"required style="width: 100%"></td>
          </form>
        </tr>
    </table>
    {% endif %}

<a href="/dashboard" class="button-link" style="display: block; width: fit-content; margin: 20px auto;">Back to Home</a>
{%endblock%}

