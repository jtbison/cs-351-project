<!-- This file extends base.html for the ease of creating future pages if ever needed. 
 I dont think that will be needed in this project, but still. -->

 {% extends "base.html"%}

 {% block head %}
 <title> New inheritance idea for making pages</title>
 {%endblock%}
 
 <!-- These lines use the jango API to allow more intelegent HTML implementations.
  Here specifically, they are used to extend base.html to make this file more simple,
  by hiding all of the unimportant, yet manditory HTML syntax.-->
 {% block body %}
 
<div class = "repContent">
    <h1>CS 351 Project</h1>

    <style>
        .content{
            text-align: center;
            border-style: solid;
            max-width: 400px;
            margin: 10px auto;
            border-radius: 10px;
        }
 
        table{
            margin-left: 20px;
            margin-right: 20px;
            border-style: solid;
            border-spacing: 10px;
            border-radius: 10px;
            margin: 20px auto;
        }
 
        input{
             /* margin: 20px auto; */
             margin-top: 10px;
             margin-bottom: 10px;
         }
 
        .divider{
             border: none;
             height: 2px;
             background-color: black;
             width: 100%;
             margin: 10px 0 20px 0;
         }
     </style>
    
    <style>
        table {
          border-collapse: collapse; /* ensures borders donâ€™t double up */
          width: 100%;
        }
      
        th, td {
          border: 1px solid #ccc;
          padding: 8px 12px;
          text-align: left;
        }
    </style>

    <hr class="divider">
     
     <!-- When there are no tasks present in the database -->
     {% if tasks | length < 1%}
     <h3>Sadly, you have not put anything in the table.</h3>
     <!-- When there are tasks in the database -->
     {% else %}
     <table>
        <tr>
            <!-- The following are header columns-->
            <th>Rep Num</th>
            <th>Last Name</th>
            <th>First Name</th>
            <th>Street</th>
            <th>City</th>
            <th>State</th>
            <th>PostalCode</th>
            <th>Commission</th>
            <th>Rate</th>

            <th>Actions</th>
        </tr>
         <!-- Loop through all the values in MyTask table-->
         {% for task in tasks%}
         <!-- Populate each row of the table -->
        <tr>
             <!-- Display the task content-->
            <td>{{task.repNum}}</td>
            <td>{{task.lastName}}</td>
            <td>{{task.firstName}}</td>
            <td>{{task.street}}</td>
            <td>{{task.city}}</td>
            <td>{{task.state}}</td>
            <td>{{task.postalCode}}</td>
            <td>${{task.commission}}</td>
            <td>{{task.rate}}</td>
    
            <!-- Button that routes to the delete for a specific ID -->
            <td><a href="/deleteRep/{{task.repNum}}"> Delete </a></td>
        </tr>
        {% endfor %}
    </table>
    {% endif %}
     
    <h3 class="divider"></h3>
 
    <style>
        .form-row {
          display: flex;
          flex-wrap: nowrap;
          gap: 4px;
          margin-top: 20px;
        }
      
        .form-field {
          display: flex;
          flex-direction: column;
          flex: 1 1 auto;
          min-width: 120px;
        }
      
        .form-field label {
          margin-bottom: 4px;
          font-weight: bold;
        }
      
        #btn_add {
          margin-top: 20px;
        }
    </style>
      
    <form action="#" method="post">
        <div class="form-row">
          <div class="form-field">
            <label for="repNum">Rep Number:</label>
            <input type="text" name="repNum" id="repNum">
          </div>
      
          <div class="form-field">
            <label for="f_Name">First Name:</label>
            <input type="text" name="f_Name" id="f_Name">
          </div>
      
          <div class="form-field">
            <label for="l_Name">Last Name:</label>
            <input type="text" name="l_Name" id="l_Name">
          </div>
      
          <div class="form-field">
            <label for="street">Street:</label>
            <input type="text" name="street" id="street">
          </div>
      
          <div class="form-field">
            <label for="city">City:</label>
            <input type="text" name="city" id="city">
          </div>
      
          <div class="form-field">
            <label for="state">State:</label>
            <input type="text" name="state" id="state">
          </div>
      
          <div class="form-field">
            <label for="postalCode">Postal Code:</label>
            <input type="text" name="postalCode" id="postalCode">
          </div>
      
          <div class="form-field">
            <label for="commission">Commission:</label>
            <input type="text" name="commission" id="commission">
          </div>
      
          <div class="form-field">
            <label for="rate">Rate:</label>
            <input type="text" name="rate" id="rate">
          </div>
        </div>
      
        <input type="submit" value="Add Rep" id="btn_add">
    </form>
</div>


<style>
    .button-link {
      display: inline-block;
      padding: 10px 20px;
      background-color: #007bff;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      font-weight: bold;
      transition: background-color 0.2s ease;
    }
  
    .button-link:hover {
      background-color: #0056b3;
    }
</style>

<a href="/" class="button-link">Back to Home</a>
{%endblock%}

